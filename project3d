import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Función para dibujar el sombrero vertical y el círculo en la base
def dibujar_sombrero(ax):
    # Crear datos para el sombrero vertical
    r_sombrero = np.linspace(0, 1, 100)
    theta_sombrero, r_sombrero = np.meshgrid(np.linspace(0, 2*np.pi, 50), r_sombrero)
    x_sombrero = .50 * np.sqrt(1 - r_sombrero**2) * np.sin(theta_sombrero)
    y_sombrero = .50 * np.sqrt(1 - r_sombrero**2) * np.cos(theta_sombrero)
    z_sombrero = .5 * r_sombrero

    # Graficar el sombrero vertical
    ax.plot_surface(x_sombrero, y_sombrero, z_sombrero, color='yellow')

    # Crear datos para el círculo en la base del sombrero
    radio_sombrero = .5  # Radio del sombrero
    theta_circulo = np.linspace(0, 2*np.pi, 50)
    x_circulo = radio_sombrero * np.sin(theta_circulo)
    y_circulo = radio_sombrero * np.cos(theta_circulo)
    z_circulo = np.zeros_like(theta_circulo)

    # Graficar el círculo en la base del sombrero
    ax.plot(x_circulo, y_circulo, z_circulo, color='red', linewidth=2*4)

# Crear la figura y el objeto de ejes 3D
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

# Dibujar el sombrero vertical y el círculo en la base
dibujar_sombrero(ax)

# Configurar etiquetas de los ejes
ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_zlabel('Z')

# Mostrar el gráfico
plt.show()
